<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="module">
        import { updatedRecipeList as algo2, addTag as addAlgo2 } from "./js/services/dataManager.js";
        import { updatedRecipeList as algo1, addTag as addAlgo1 } from "./js/services/dataManager.js";
        const algos = {
            1: {
                temps: 0,
                add: addAlgo1,
                updatedRecipeList: algo1
            },
            2: {
                temps: 0,
                add: addAlgo2,
                updatedRecipeList: algo2
            },
        };

        /**
         * point de dÃ©part
         * @type {Date}
         */
        let start;
        addElements({
            "ustensils": [],
            "appliance": []
        })
        for (let max=1000; max>0; max--){
            sequence(1, function () { algos[1].updatedRecipeList() });
            sequence(2, function () { algos[2].updatedRecipeList(); });
        }

        console.log(algo1.temps, algo2.temps);

        function addElements(list) {
            for (const [Key, value] of Object.entries(list)) {
                value.forEach(elm => {
                    sequence(1, function () { algos[1].add(key, elm) });
                    sequence(2, function () { algos[2].add(key, elm); });
                });
            }
        }

        /**
         * @param  {Number} idAlgo
         * @param  {Function} method
         * @return {void}
         */
        function sequence(idAlgo, method) {
            const start = Date.now;
            method();
            const gap = Date.now() - start;
            algos[idAlgo].temps += gap;
        }
    </script>
</head>
<body>
    
</body>
</html>